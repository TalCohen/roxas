{% extends "nav.html" %}
{% block title %}{{ title }}{% endblock %}
{% block body %}
<div class="page-header">
    <h3>{{ title }}</h3>
</div>
<div class="panel panel-default">
    <div class="panel-body">
        <form action="{{ action }}" method="post">
            <div class="form-group">
                <label for="device-name">Device Name</label>
                <input required type="text" name="name" class="form-control" id="device-name" placeholder="Name" value="{{ device.get('name')|none_to_empty }}">
            </div>
            <div class="form-group">
                <label for="device-desc">Device Description</label>
                <input required type="text" name="description" class="form-control" id="device-desc" placeholder="Description" value="{{ device.get('description')|none_to_empty }}">
            </div>
            {% import "devices_selects.html" as ds with context %}
            {{ ds.selects("Device Owners: (Leave empty for current user only)", "device-owners", "device_owners", device_owners_users_dict, device_owners_groups_dict) }}
            {{ ds.selects("Accessible By: (Leave empty for all users)", "accessible-by", "accessible_by", accessible_by_users_dict, accessible_by_groups_dict) }}
            <button type="submit" class="btn btn-primary">{{ submit_button_str }}</button>
        </form>
    </div>
</div>
{% endblock %}
